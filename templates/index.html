<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cloudburst Detection Dashboard</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="logo">ðŸŒ© Cloudburst</div>
    <ul>
      <li><a class="active">Dashboard</a></li>
      <li><a href="#">Sensors</a></li>
      <li><a href="#">Alerts</a></li>
    </ul>
  </nav>

  <!-- HEADER SECTION -->
  <header class="header-section">
    <h1>Cloudburst Detection Dashboard</h1>
    <p>Real-time Monitoring â€¢ Risk Analysis â€¢ Live Sensor Feed</p>
  </header>

  <!-- MAIN CONTAINER -->
  <div class="container">

    <!-- LIVE CARDS -->
    <div class="cards">
      <div class="card glass">
        <h2>Temperature</h2>
        <p id="temp" class="metric">-- Â°C</p>
      </div>

      <div class="card glass">
        <h2>Humidity</h2>
        <p id="hum" class="metric">-- %</p>
      </div>

      <div class="card glass">
        <h2>Rainfall</h2>
        <p id="rain" class="metric">-- mm/hr</p>
      </div>

      <div class="card glass">
        <h2>Soil Condition</h2>
        <p id="soil" class="metric">--</p>
      </div>

      <div class="card glass">
        <h2>Radar</h2>
        <p id="ult" class="metric">--</p>
      </div>

    </div>

    <!-- UPDATE TIME -->
    <div class="updated-box">
      <p>Last Updated: <span id="updated">--</span></p>

      <button id="simulateBtn">Simulate Sensor Data</button>
      <button id="clearBtn">Clear Chart</button>
    </div>

    <!-- CHART -->
    <div class="chart-wrapper glass">
      <h3>Live Sensor Graph</h3>
      <div class="chart-area">
        <canvas id="sensorChart"></canvas>
      </div>
    </div>

  </div>

  <!-- Cloud Burst Popup -->
  <div id="cloudburstPopup" style="position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.4); z-index: 1000;">
    <div style="background:#0f172a; color:#e2e8f0; padding: 24px 28px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); max-width: 90%; text-align:center;">
      <h3 style="margin: 0 0 8px 0; font-weight:700;">Cloud Burst</h3>
      <p id="cloudburstMsg" style="margin: 0 0 16px 0;">Radar value exceeded threshold (> 6)</p>
      <button id="cloudburstClose" style="background:#ff4d67; color:#fff; border:none; padding:8px 14px; border-radius:8px; cursor:pointer;">Close</button>
    </div>
  </div>

  <footer>
    <p> 2025 Cloudburst Detection System â€¢ AI + IoT Monitoring</p>
  </footer>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
